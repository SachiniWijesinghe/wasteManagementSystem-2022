const router=require("express").Router(),Category=require("../models/Category");let form=require("../models/Category");router.route("/add").post((req,res)=>{const Categoryname=req.body.Categoryname,newCategory=new Category({Categoryname:Categoryname});newCategory.save().then(()=>{res.json("Category added")}).catch(err=>{console.log(err)})}),router.route("/").get((req,res)=>{Category.find().then(forms=>{res.json(forms)}).catch(err=>{console.log(err)})}),router.route("/update/:id").put(async(req,res)=>{let Catid=req.params.id;const{Categoryname:Categoryname}=req.body,updateCategory={Categoryname:Categoryname},update=await Category.findByIdAndUpdate(Catid,updateCategory).then(()=>{res.status(200).send({status:"Caregory updated",user:update})}).catch(err=>{console.log(err),res.status(500).send({status:"error with updating Data ",Error:err.massage})})}),router.route("/delete/:id").delete(async(req,res)=>{let Catid=req.params.id;await Category.findByIdAndDelete(Catid).then(()=>{res.status(200).send({states:"Category deleted"})}).catch(err=>{console.log(err.massage),res.status(500).send({status:"Error with delete",error:err.massage})})}),module.exports=router;